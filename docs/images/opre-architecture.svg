<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 600">
  <defs>
    <linearGradient id="bg-gradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#f8f9fa"/>
      <stop offset="100%" stop-color="#e9ecef"/>
    </linearGradient>
    <filter id="shadow" x="-5%" y="-5%" width="110%" height="110%">
      <feDropShadow dx="3" dy="3" stdDeviation="2" flood-opacity="0.3"/>
    </filter>
    <linearGradient id="box1-gradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" stop-color="#4fc3f7"/>
      <stop offset="100%" stop-color="#039be5"/>
    </linearGradient>
    <linearGradient id="box2-gradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" stop-color="#81c784"/>
      <stop offset="100%" stop-color="#43a047"/>
    </linearGradient>
    <linearGradient id="box3-gradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" stop-color="#ffb74d"/>
      <stop offset="100%" stop-color="#fb8c00"/>
    </linearGradient>
    <linearGradient id="engine-gradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" stop-color="#e57373"/>
      <stop offset="100%" stop-color="#e53935"/>
    </linearGradient>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#333"/>
    </marker>
  </defs>
  
  <!-- Background -->
  <rect width="800" height="600" fill="url(#bg-gradient)"/>
  
  <!-- Title -->
  <text x="400" y="40" text-anchor="middle" font-family="Arial, sans-serif" font-weight="bold" font-size="24" fill="#333">Ontological Path Rewriting Engine (OPRE) Architecture</text>
  
  <!-- TGE Base -->
  <rect x="50" y="500" width="700" height="60" rx="5" fill="url(#engine-gradient)" filter="url(#shadow)"/>
  <text x="400" y="535" text-anchor="middle" font-family="Arial, sans-serif" font-weight="bold" font-size="18" fill="white">Microsoft Trinity Graph Engine (TGE) Memory Cloud</text>
  
  <!-- LIKQ Layer -->
  <rect x="75" y="440" width="650" height="40" rx="5" fill="#f0f0f0" stroke="#ccc" stroke-width="1"/>
  <text x="400" y="465" text-anchor="middle" font-family="Arial, sans-serif" font-weight="bold" font-size="18" fill="#333">LIKQ (Language Integrated Knowledge Query)</text>
  
  <!-- BFO 2020 Axiom Translation Layer -->
  <rect x="75" y="380" width="650" height="40" rx="5" fill="#fff" stroke="#666" stroke-width="2" stroke-dasharray="5,2"/>
  <text x="400" y="405" text-anchor="middle" font-family="Arial, sans-serif" font-weight="bold" font-size="16" fill="#333">BFO 2020 Axiom Translation Layer</text>
  
  <!-- Ontological Verbs Box -->
  <rect x="75" y="70" width="200" height="280" rx="5" fill="url(#box1-gradient)" filter="url(#shadow)"/>
  <text x="175" y="100" text-anchor="middle" font-family="Arial, sans-serif" font-weight="bold" font-size="18" fill="white">Ontological Verbs</text>
  <rect x="90" y="120" width="170" height="210" rx="5" fill="white" fill-opacity="0.9"/>
  <text x="175" y="145" text-anchor="middle" font-family="Arial, sans-serif" font-weight="bold" font-size="16" fill="#0277bd">Core BFO Operations</text>
  <text x="175" y="175" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" fill="#0277bd">• continuant_part_of()</text>
  <text x="175" y="200" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" fill="#0277bd">• participates_in()</text>
  <text x="175" y="225" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" fill="#0277bd">• located_in()</text>
  <text x="175" y="250" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" fill="#0277bd">• occurs_during()</text>
  <text x="175" y="275" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" fill="#0277bd">• realized_in()</text>
  <text x="175" y="300" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" fill="#0277bd">• specifically_depends_on()</text>
  
  <!-- Expression Builder Box -->
  <rect x="300" y="70" width="200" height="280" rx="5" fill="url(#box2-gradient)" filter="url(#shadow)"/>
  <text x="400" y="100" text-anchor="middle" font-family="Arial, sans-serif" font-weight="bold" font-size="18" fill="white">Expression Builder</text>
  <rect x="315" y="120" width="170" height="210" rx="5" fill="white" fill-opacity="0.9"/>
  <text x="400" y="145" text-anchor="middle" font-family="Arial, sans-serif" font-weight="bold" font-size="16" fill="#2e7d32">Lambda Compilation</text>
  <text x="400" y="175" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" fill="#2e7d32">• Expression&lt;Func&lt;&gt;&gt;</text>
  <text x="400" y="200" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" fill="#2e7d32">• Predicate Composition</text>
  <text x="400" y="225" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" fill="#2e7d32">• Security Validation</text>
  <text x="400" y="250" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" fill="#2e7d32">• Traversal Compilation</text>
  <text x="400" y="275" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" fill="#2e7d32">• Runtime Closure</text>
  <text x="400" y="300" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" fill="#2e7d32">• Dynamic Path Building</text>
  
  <!-- Z3 Constraint Solving Box -->
  <rect x="525" y="70" width="200" height="280" rx="5" fill="url(#box3-gradient)" filter="url(#shadow)"/>
  <text x="625" y="100" text-anchor="middle" font-family="Arial, sans-serif" font-weight="bold" font-size="18" fill="white">Z3 Constraint Solving</text>
  <rect x="540" y="120" width="170" height="210" rx="5" fill="white" fill-opacity="0.9"/>
  <text x="625" y="145" text-anchor="middle" font-family="Arial, sans-serif" font-weight="bold" font-size="16" fill="#ef6c00">Axiom Enforcement</text>
  <text x="625" y="175" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" fill="#ef6c00">• BFO Axiom Mapping</text>
  <text x="625" y="200" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" fill="#ef6c00">• Z3 Runtime Assertion</text>
  <text x="625" y="225" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" fill="#ef6c00">• Theorem Proving</text>
  <text x="625" y="250" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" fill="#ef6c00">• Constraint Solving</text>
  <text x="625" y="275" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" fill="#ef6c00">• Temporal Ordering</text>
  <text x="625" y="300" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" fill="#ef6c00">• Mereological Validation</text>
  
  <!-- Connecting Arrows -->
  <path d="M175 350 L175 380" stroke="#333" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M400 350 L400 380" stroke="#333" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M625 350 L625 380" stroke="#333" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M400 420 L400 440" stroke="#333" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M400 480 L400 500" stroke="#333" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
</svg>